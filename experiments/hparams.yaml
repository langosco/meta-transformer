name: depoisoning_sweep
program: ./depoison.py
method: bayes
metric:
    name: val/loss
    goal: minimize
parameters:
    lr:
        distribution: log_uniform_values
        min: 0.00001
        max: 0.001
    wd:
        distribution: log_uniform_values
        min: 0.000001
        max: 0.001
    adam_b1:
        distribution: log_uniform_values
        min: 0.00001
        max: 0.1
    adam_b2:
        distribution: log_uniform_values
        min: 0.00001
        max: 0.1
    adam_eps:
        distribution: log_uniform_values
        min: 1e-10
        max: 1e-3
    chunk_size:
        values: [16, 32, 64, 128, 256, 512, 1024]
    bs:
        values: [32, 64]
    use_embedding:
        value: True
    ndata:
        value: 9999
    epochs:
        value: 100
    max_runtime:  # in minutes
        value: 3600
command:
    - python3
    - depoison.py
    - --use_wandb
    - ${args}
